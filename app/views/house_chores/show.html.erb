<% if flash[:notice] %>
  <div class="notice"><%= flash[:notice] %></div>
<% end %>

<section class="todoapp">
	<header class="header">
		<h1><%= @house_chore.chore.name %></h1>
		<%= form_for([@house_chore, @task]) do |f| %>
			<%= f.text_field :description, :class => "new-todo", :placeholder => (@task.errors.full_messages_for(:description).first || "Create a new chore task..." ) %>
			<%= f.submit :class => "hidden" %>
		<% end %>
	</header>

	<section class="main">
		<ul class="todo-list">
      <% @house_chore.tasks.each do |task| %>
      <li>
        <div class="view">
          <label><%= task.description %></label>
          <%= button_to "x", house_chore_task_path(task.house_chore, :task_id => task.id), method: :delete, :class => "destroy" %>
        </div>
      </li>
      <% end %>

		</ul>
    <%= form_for(@user_chore) do |f| %>
      <%= f.hidden_field :house_chore_id, :value => @house_chore.id %>
      <%= f.label :user %>
      <%= f.select :user_id, @users.collect { |u| [u.username, u.id] }, include_blank: true %>
      <%= f.label :due_date %>
      <%= f.date_select :due_date %>
      <%= f.submit "Assign a user to a chore" %>
    <% end %>

	</section>

	<footer class="footer">

	</footer>
</section>
